(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[827],{6212:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/write",function(){return t(2845)}])},2694:function(e,n,t){"use strict";var r=t(5893),o=t(6145),i=t(1499),a=t(576);function c(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){c(e,n,t[n])}))}return e}function l(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}n.Z=function(e){var n=e.markdown;return(0,r.jsx)(o.D,{className:"py-4 px-8 prose dark:prose-invert whitespace-normal max-w-full",remarkPlugins:[i.Z],components:{p:function(e){e.node;var n=l(e,["node"]);if("object"===typeof n.children[0]){var t=n.children[0];return"img"===t.type.name?s({},t):(0,r.jsx)("p",s({},n))}return(0,r.jsx)("p",s({},n,{className:"whitespace-pre-line"}))},code:function(e){e.node,e.inline;var n=l(e,["node","inline"]);return(0,r.jsx)("code",s({},n,{className:"bg-indigo-700 px-2 py-1 rounded-sm text-white after:contents before:contents group-odd:p-0 group-even:p-0 group-odd:bg-transparent group-even:bg-transparent"}))},pre:function(e){e.node;var n=l(e,["node"]);return(0,r.jsx)("pre",s({},n,{className:"group bg-indigo-500 p-3 rounded-sm"}))},a:function(e){e.node;var n=l(e,["node"]);return(0,r.jsx)("a",s({},n,{className:"text-indigo-500 no-underline"}))},blockquote:function(e){e.node;var n=l(e,["node"]);return(0,r.jsx)("blockquote",s({},n,{className:"bg-zinc-300 dark:bg-zinc-800 border-l-indigo-500"}))},img:function(e){e.node;var n,t=l(e,["node"]);return(0,r.jsx)("div",{children:(0,r.jsx)(r.Fragment,{children:(null===(n=t.src)||void 0===n?void 0:n.includes("https://blelog.s3.ap-northeast-2.amazonaws.com"))?(0,r.jsx)(a.Z,s({},t,{photo:t.src,className:"mx-auto my-4 h-[200px] md:h-[300px] lg:h-[400px]"})):(0,r.jsx)("img",s({},t,{className:"mx-auto my-4 h-[200px] md:h-[300px] lg:h-[400px]"}))})})},h1:function(e){e.node;var n,t,o=l(e,["node"]);return(0,r.jsx)("h1",s({id:null===(n=o.children)||void 0===n||null===(t=n[0])||void 0===t?void 0:t.toString()},o))},h2:function(e){e.node;var n,t,o=l(e,["node"]);return(0,r.jsx)("h2",s({id:null===(n=o.children)||void 0===n||null===(t=n[0])||void 0===t?void 0:t.toString()},o))},h3:function(e){e.node;var n,t,o=l(e,["node"]);return(0,r.jsx)("h3",s({id:null===(n=o.children)||void 0===n||null===(t=n[0])||void 0===t?void 0:t.toString()},o))},h4:function(e){e.node;var n,t,o=l(e,["node"]);return(0,r.jsx)("h4",s({id:null===(n=o.children)||void 0===n||null===(t=n[0])||void 0===t?void 0:t.toString()},o))},h5:function(e){e.node;var n,t,o=l(e,["node"]);return(0,r.jsx)("h5",s({id:null===(n=o.children)||void 0===n||null===(t=n[0])||void 0===t?void 0:t.toString()},o))},h6:function(e){e.node;var n,t,o=l(e,["node"]);return(0,r.jsx)("h6",s({id:null===(n=o.children)||void 0===n||null===(t=n[0])||void 0===t?void 0:t.toString()},o))}},children:n})}},576:function(e,n,t){"use strict";var r=t(5893),o=t(5675),i=t(8915);n.Z=function(e){var n=e.photo,t=e.className,a=e.alt,c=void 0===a?"\uc774\ubbf8\uc9c0":a,s=e.$scale,l=e.$cover,u=e.$rouneded,d=e.priority,f=n?n.includes("http")?n:(0,i.eV)(n):"/temporary.jpg";return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("figure",{className:(0,i.Nn)("relative",t),children:(0,r.jsx)(o.default,{src:f,layout:"fill",alt:c,className:(0,i.Nn)(s?"group-hover:scale-110 duration-500":"",l?"object-cover":"object-contain",u?"rounded-full":"",n?"":"blur"),priority:d})})})}},2845:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return K}});var r,o,i=t(4051),a=t.n(i),c=t(5893),s=t(7294),l=t(1163),u=t(7536),d=t(782),f=t(8100),p=function(){return p=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},p.apply(this,arguments)},m=function(e){return"function"==typeof e[1]?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}]},h=(r=f.ZP,o=function(e){return function(n,t,r){return r.revalidateOnFocus=!1,r.revalidateIfStale=!1,r.revalidateOnReconnect=!1,e(n,t,r)}},function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=m(e),i=t[0],a=t[1],c=t[2],s=(c.use||[]).concat(o);return r(i,a,p(p({},c),{use:s}))}),b=t(3299),x=t(9634),v=t(8915),g=t(2075),y=t(576),j=t(2460),w=t(9243),k=t(9669),N=t(9033);function O(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function S(e,n,t,r,o,i,a){try{var c=e[i](a),s=c.value}catch(l){return void t(l)}c.done?n(s):Promise.resolve(s).then(r,o)}function C(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function P(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){C(e,n,t[n])}))}return e}function z(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,c=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==t.return||t.return()}finally{if(c)throw o}}return i}}(e,n)||I(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||I(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,n){if(e){if("string"===typeof e)return O(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?O(e,n):void 0}}var Z=function(e){var n=e.onCreatePost,t=e.title,r=e.setIsPreview,o=e.postMetadata,i=e.setPostMetadata,l=(0,s.useRef)(null),p=(0,s.useState)(!1),m=p[0],h=p[1],b=z((0,g.Z)({kinds:"post"}),1)[0],O=(0,s.useCallback)(function(){var e,n=(e=a().mark((function e(n){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,b(n);case 3:(t=e.sent)&&i((function(e){return P({},e,{thumbnail:t})})),h(!1);case 6:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){S(i,r,o,a,c,"next",e)}function c(e){S(i,r,o,a,c,"throw",e)}a(void 0)}))});return function(e){return n.apply(this,arguments)}}(),[b,i,h]),C=(0,f.ZP)("/api/category"),I=C.data,Z=C.mutate,E=(0,s.useState)(!1),D=E[0],_=E[1],T=(0,s.useState)(""),F=T[0],L=T[1],R=(0,s.useCallback)((function(e){return function(){L(e)}}),[L]),M=(0,u.cI)(),V=M.register,W=M.handleSubmit,$=M.reset,q=(0,s.useCallback)((function(e){var n,t,r=e.category;try{x.Z.categoryService.apiCreateCategory({category:r}),Z((function(e){return e&&P({},e,{categories:A(e.categories).concat([{category:r}])})}),!1)}catch(i){var o;if(console.error("error >> ",i),n=i,null!=(t=k.AxiosError)&&"undefined"!==typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](n):n instanceof t)d.Am.error(null===(o=i.response)||void 0===o?void 0:o.data.message);else d.Am.error("\uc54c \uc218 \uc5c6\ub294 \uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}finally{$()}}),[Z,$]);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("article",{className:"z-1 fixed top-0 left-0 w-screen h-screen bg-white dark:bg-gray-800 flex md:justify-center md:items-center space-y-8 md:space-x-8 animate-slide-up flex-col md:flex-row p-4 overflow-auto",children:[(0,c.jsxs)("section",{className:"space-y-8 w-full md:max-w-[350px] md:w-[40vw] md:h-[60vh]",children:[(0,c.jsxs)("form",{className:"space-y-2",children:[(0,c.jsx)("h3",{className:"text-xl font-bold",children:"\ud3ec\uc2a4\ud2b8 \ubbf8\ub9ac\ubcf4\uae30"}),(0,c.jsx)("input",{type:"file",accept:"image/*",hidden:!0,ref:l,onChange:O}),o.thumbnail?(0,c.jsx)(y.Z,{photo:o.thumbnail,className:"w-full pt-[60%] md:h-48 m-0",$cover:!0}):(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("button",{type:"button",className:"group w-full md:h-48 h-72 md:pt-0 bg-transparent flex flex-col justify-center items-center rounded-sm border-2 border-indigo-500 hover:border-indigo-600 text-indigo-500 hover:text-indigo-600",onClick:function(){var e;return null===(e=l.current)||void 0===e?void 0:e.click()},children:[(0,c.jsx)(j.Z,{icon:N.W.PHOTO,className:"w-[60px] h-[60px]"}),(0,c.jsx)("div",{className:"mb-2"}),(0,c.jsx)("span",{className:"text-sm font-semibold py-1.5 px-3 rounded-md border-2 border-indigo-500 group-hover:border-indigo-600",children:"\uc12c\ub124\uc77c \uc5c5\ub85c\ub4dc"})]})})]}),(0,c.jsxs)("form",{className:"space-y-2",children:[(0,c.jsx)("h3",{className:"text-xl font-bold",children:t}),(0,c.jsx)("textarea",{rows:5,className:"resize-none w-full p-2 focus:outline-none bg-zinc-100 dark:bg-zinc-600 rounded-sm border-2 border-zinc-600 dark:border-zinc-400",onChange:function(e){return i((function(n){return P({},n,{summary:e.target.value})}))},value:o.summary,placeholder:"\ud83d\udc47 \ud55c \uc904 \uc694\uc57d\uc744 \uc791\uc131\ud574\uc8fc\uc138\uc694! \ud83d\udc47"})]})]}),D?(0,c.jsxs)("section",{className:"flex flex-col w-full md:max-w-[350px] md:w-[40vw] md:h-[60vh]",children:[(0,c.jsx)("h3",{className:"text-xl font-bold mb-2",children:"\uce74\ud14c\uace0\ub9ac \uc124\uc815"}),(0,c.jsx)("form",{className:"bg-zinc-300 dark:bg-zinc-700 p-4",onSubmit:W(q),children:(0,c.jsx)("input",P({type:"text",placeholder:"\uc0c8\ub85c\uc6b4 \uce74\ud14c\uace0\ub9ac \uc774\ub984\uc744 \uc785\ub825\ud558\uc138\uc694",className:"p-2 w-full"},V("category")))}),(0,c.jsx)("hr",{}),(0,c.jsx)("ul",{className:"flex flex-col divide-y bg-zinc-300 dark:bg-zinc-700 overflow-auto mb-9",children:null===I||void 0===I?void 0:I.categories.map((function(e){var n=e.category;return(0,c.jsx)("button",{type:"button",className:(0,v.Nn)("py-2 px-4 text-left hover:bg-zinc-500 dark:hover:bg-zinc-800 dark:hover:text-white",F===n?"bg-zinc-400 dark:bg-zinc-800":""),onClick:R(n),children:n},n)}))}),(0,c.jsxs)("section",{className:"text-right space-x-2",children:[(0,c.jsx)("button",{type:"button",onClick:function(){L(""),_(!1)},className:"w-1/4 p-2 rounded-md bg-zinc-300 hover:bg-zinc-400 dark:bg-zinc-600 dark:hover:bg-zinc-700 dark:hover:text-white",children:"\ucde8\uc18c"}),(0,c.jsx)("button",{type:"button",className:"w-1/4 p-2 rounded-md bg-zinc-500 text-white hover:bg-zinc-400 dark:bg-zinc-600 dark:hover:bg-zinc-700 dark:hover:text-white disabled:bg-zinc-200 dark:disabled:text-white disabled:cursor-not-allowed",disabled:0===F.length,onClick:function(){i((function(e){return P({},e,{category:F})})),L(""),_(!1)},children:"\uc120\ud0dd\ud558\uae30"})]})]}):(0,c.jsxs)("section",{className:"flex flex-col space-y-8 w-full md:max-w-[350px] md:w-[40vw] md:h-[60vh]",children:[(0,c.jsxs)("section",{className:"space-y-2",children:[(0,c.jsx)("h3",{className:"text-xl font-bold",children:"\uacf5\uac1c \uc124\uc815"}),(0,c.jsxs)("div",{className:"flex space-x-4",children:[(0,c.jsxs)("button",{type:"button",className:(0,v.Nn)("flex-1 p-2 rounded-md font-semibold flex justify-center space-x-2 border-2 hover:border-indigo-600 hover:text-indigo-600",o.isPrivate?"border-zinc-400 text-zinc-400":"border-indigo-500 text-indigo-500"),onClick:function(){return i((function(e){return P({},e,{isPrivate:!1})}))},children:[(0,c.jsx)(j.Z,{icon:N.W.EARTH,className:"w-6 h-6"}),(0,c.jsx)("span",{children:"\uc804\uccb4 \uacf5\uac1c"})]}),(0,c.jsxs)("button",{type:"button",className:(0,v.Nn)("flex-1 p-2 rounded-md font-semibold flex justify-center space-x-2 border-2 hover:border-indigo-600 hover:text-indigo-600",o.isPrivate?"border-indigo-500 text-indigo-500":"border-zinc-400 text-zinc-400"),onClick:function(){return i((function(e){return P({},e,{isPrivate:!0})}))},children:[(0,c.jsx)(j.Z,{icon:N.W.LOCK,className:"w-6 h-6"}),(0,c.jsx)("span",{children:"\ube44\uacf5\uac1c"})]})]})]}),(0,c.jsxs)("section",{className:"space-y-2",children:[(0,c.jsx)("h3",{className:"text-xl font-bold",children:"\uce74\ud14c\uace0\ub9ac \uc124\uc815"}),(0,c.jsx)("button",{type:"button",className:(0,v.Nn)("flex justify-center space-x-2 p-2 rounded-md w-full font-semibold border-2 hover:border-indigo-600 hover:text-indigo-600",o.category?"border-indigo-500 text-indigo-500":"border-zinc-400 text-zinc-400"),onClick:function(){return _(!0)},children:o.category?o.category:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(j.Z,{icon:N.W.PLUS_CURCLE,className:"w-6 h-6"}),(0,c.jsx)("span",{children:"\uce74\ud14c\uace0\ub9ac\uc5d0 \ucd94\uac00\ud558\uae30"})]})}),o.category.length>0&&(0,c.jsx)("button",{type:"button",className:"block ml-auto hover:text-indigo-400 hover:underline",onClick:function(){return i((function(e){return P({},e,{category:""})}))},children:"\uce74\ud14c\uace0\ub9ac \uc81c\uac70\ud558\uae30"})]}),(0,c.jsx)("div",{className:"flex-1"}),(0,c.jsxs)("section",{className:"text-right space-x-2",children:[(0,c.jsx)("button",{type:"button",onClick:function(){return r(!1)},className:"w-1/4 p-2 rounded-md font-semibold border-2 border-indigo-500 text-indigo-500 hover:border-indigo-600 hover:text-indigo-600",children:"\ucde8\uc18c"}),(0,c.jsx)("button",{type:"button",onClick:n,className:"w-1/4 p-2 rounded-md font-semibold border-2 border-indigo-500 text-indigo-500 hover:border-indigo-600 hover:text-indigo-600",children:"\ucd9c\uac04\ud558\uae30"})]})]})]}),m&&(0,c.jsx)(w.Z,{kinds:"page"})]})},E=t(2694),D=t(897);function _(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function T(e,n,t,r,o,i,a){try{var c=e[i](a),s=c.value}catch(l){return void t(l)}c.done?n(s):Promise.resolve(s).then(r,o)}function F(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){T(i,r,o,a,c,"next",e)}function c(e){T(i,r,o,a,c,"throw",e)}a(void 0)}))}}function L(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function R(e,n){return null!=n&&"undefined"!==typeof Symbol&&n[Symbol.hasInstance]?!!n[Symbol.hasInstance](e):e instanceof n}function M(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){L(e,n,t[n])}))}return e}function V(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function W(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,c=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(s){c=!0,o=s}finally{try{a||null==t.return||t.return()}finally{if(c)throw o}}return i}}(e,n)||q(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||q(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,n){if(e){if("string"===typeof e)return _(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_(e,n):void 0}}var K=function(){var e,n=(0,b.useSession)().data,t=(0,l.useRouter)(),r=(0,s.useState)(null),o=r[0],i=r[1],f=(0,u.cI)(),p=f.register,m=f.watch,y=f.getValues,O=f.setValue,S=(0,s.useState)([]),C=S[0],P=S[1],z=(0,s.useCallback)(F(a().mark((function e(){var n,t,r,o,c,s,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=y("title"),t=y("contents"),n){e.next=4;break}return e.abrupt("return",d.Am.error("\uc81c\ubaa9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694!"));case 4:if(t){e.next=6;break}return e.abrupt("return",d.Am.error("\ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694!"));case 6:return e.prev=6,e.next=9,x.Z.postService.apiCreateTemporaryPost({title:n,contents:t,keywords:C});case 9:r=e.sent,o=r.data,c=o.message,s=o.temporaryPostIdx,i(s),d.Am.success(c),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(6),console.error(e.t0),R(e.t0,k.AxiosError)?d.Am.error(null===(l=e.t0.response)||void 0===l?void 0:l.data.message):d.Am.error("\uc54c \uc218 \uc5c6\ub294 \uc5d0\ub7ec\uc785\ub2c8\ub2e4.");case 21:case"end":return e.stop()}}),e,null,[[6,17]])}))),[y,C]),A=(0,s.useCallback)((function(e){var n=String.fromCharCode(e.which).toLowerCase();if((e.ctrlKey||e.metaKey)&&"s"===n)return e.preventDefault(),void z()}),[z]),I=(0,s.useCallback)((function(e){if("Enter"===e.key){e.preventDefault();var n=y("keyword").toLocaleLowerCase().replace(/ /g,"");if(!n)return;P((function(e){if(e.length>=10)return d.Am.warning("\ud0dc\uadf8\ub294 \ucd5c\ub300 10\uac1c\uae4c\uc9c0\ub9cc \uc0dd\uc131\uc774 \uac00\ub2a5\ud569\ub2c8\ub2e4."),e;var t=e.length,r=$(e).concat([n]).filter((function(e,n,t){return t.indexOf(e)===n}));return t===r.length&&d.Am.warning("\uc911\ubcf5\ub41c \ud0dc\uadf8\ub294 \uc0dd\uc131\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."),r})),O("keyword","")}}),[y,P,O]),_=(0,s.useCallback)((function(e){return function(){P((function(n){return n.filter((function(n){return n!==e}))}))}}),[P]),T=(0,s.useState)(!1),L=T[0],q=T[1],K=(0,s.useCallback)((function(){var e=y("title"),n=y("contents");return e?n?void q(!0):d.Am.error("\ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694!"):d.Am.error("\uc81c\ubaa9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694!")}),[y,q]),U=(0,s.useCallback)((function(){confirm("\uc815\ub9d0 \uac8c\uc2dc\uae00 \uc0dd\uc131\uc744 \ucde8\uc18c\ud558\uaca0\uc2b5\ub2c8\uae4c?\n\ub9cc\uc57d \uc800\uc7a5\ud558\uc9c0 \uc54a\uc558\ub2e4\uba74 \ub418\ub3cc\ub9b4 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4!")&&t.back()}),[t]),H=(0,s.useRef)(null),J=(0,s.useState)(!1),X=J[0],B=J[1],G=(0,s.useState)(!1),Q=G[0],Y=G[1],ee=W((0,g.Z)({kinds:"post"}),2),ne=ee[0],te=ee[1],re=(0,s.useCallback)(function(){var e=F(a().mark((function e(n){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Y(!0),e.next=3,ne(n);case 3:(t=e.sent)&&O("contents",y("contents")+"\n![\uc774\ubbf8\uc9c0](".concat((0,v.eV)(t),")")),Y(!1),B(!1);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[ne,Y,y,O,B]),oe=(0,s.useCallback)(function(){var e=F(a().mark((function e(n){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Y(!0),e.next=3,te(n);case 3:(t=e.sent)&&O("contents",y("contents")+"\n![\uc774\ubbf8\uc9c0](".concat((0,v.eV)(t),")")),Y(!1),B(!1);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[te,y,O,Y,B]),ie=(0,s.useState)({category:"",isPrivate:!1,summary:"",thumbnail:""}),ae=ie[0],ce=ie[1],se=(0,s.useCallback)(F(a().mark((function e(){var r,i,c,s,l,u,f;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=y("title"),i=y("contents"),r){e.next=4;break}return e.abrupt("return",d.Am.error("\uc81c\ubaa9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694!"));case 4:if(i){e.next=6;break}return e.abrupt("return",d.Am.error("\ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694!"));case 6:return c=ae.thumbnail,s=V(ae,["thumbnail"]),e.prev=7,e.next=10,x.Z.postService.apiCreatePost(M({title:r,contents:i,keywords:C,photo:c,temporaryPostIdx:o},s));case 10:l=e.sent,u=l.data.message,d.Am.success(u),t.push("/".concat(null===n||void 0===n?void 0:n.user.name,"/").concat(r)),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(7),console.error(e.t0),R(e.t0,k.AxiosError)?d.Am.error(null===(f=e.t0.response)||void 0===f?void 0:f.data.message):d.Am.error("\uc54c \uc218 \uc5c6\ub294 \uc5d0\ub7ec\uc785\ub2c8\ub2e4.");case 20:case"end":return e.stop()}}),e,null,[[7,16]])}))),[y,C,ae,t,n,o]),le=h((null===(e=t.query)||void 0===e?void 0:e.title)?encodeURI("/api/post/temporary?title=".concat(t.query.title)):null),ue=le.data,de=le.isValidating;return(0,s.useEffect)((function(){ue&&ue.post&&(O("title",ue.post.title),O("contents",ue.post.contents),P(ue.post.keywords.map((function(e){return e.keyword.keyword}))))}),[ue,O]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(D.Z,{title:"Jslog | \uac8c\uc2dc\uae00 \uc0dd\uc131",description:"Jslog\uc758 \uac8c\uc2dc\uae00 \uc0dd\uc131 \ud398\uc774\uc9c0\uc785\ub2c8\ub2e4."}),(0,c.jsxs)("article",{className:"flex h-screen",onKeyDown:A,onDragOver:function(){return B(!0)},onDragLeave:function(){return B(!1)},children:[(0,c.jsx)("section",{className:"flex-1 dark:bg-zinc-800 bg-zinc-200 p-4",children:X?(0,c.jsxs)("div",{className:"flex flex-col h-full justify-center items-center",onDragOver:function(e){return e.preventDefault()},onDrop:oe,children:[(0,c.jsx)("span",{children:"\ud83d\uddbc\ufe0f\uc774\ubbf8\uc9c0\ub97c \uc5ec\uae30\uc5d0 \ub4dc\ub798\uadf8 \ud574\uc8fc\uc138\uc694!"}),(0,c.jsx)(j.Z,{icon:N.W.PHOTO,className:"w-32 h-32"})]}):(0,c.jsxs)("form",{className:"flex flex-col h-full",children:[(0,c.jsx)("input",{type:"file",accept:"image/*",ref:H,onChange:re,hidden:!0}),(0,c.jsx)("input",M({autoFocus:!0,type:"text",placeholder:"\uc81c\ubaa9\uc744 \uc785\ub825\ud558\uc138\uc694",className:"p-4 bg-transparent focus:outline-none text-3xl font-bold"},p("title"))),(0,c.jsx)("input",M({type:"text",placeholder:"\ud0dc\uadf8\ub97c \uc785\ub825\ud558\uc138\uc694",className:"p-4 bg-transparent focus:outline-none"},p("keyword"),{onKeyDown:I})),(0,c.jsx)("ul",{className:"px-4 flex flex-wrap space-x-2",children:C.map((function(e){return(0,c.jsx)("li",{children:(0,c.jsx)("button",{type:"button",onClick:_(e),tabIndex:-1,className:"bg-zinc-300 text-indigo-500 hover:bg-zinc-400 hover:text-indigo-600 dark:bg-zinc-600 dark:hover:bg-zinc-700 dark:text-indigo-300 dark:hover:text-indigo-400 py-2 px-4 mb-2 rounded-md font-semibold",children:e})},e)}))}),(0,c.jsxs)("ul",{className:"flex",children:[(0,c.jsx)("div",{className:"flex-1"}),(0,c.jsx)("button",{type:"button",onClick:function(){var e;return null===(e=H.current)||void 0===e?void 0:e.click()},className:"p-1 rounded-md hover:text-white hover:bg-black dark:hover:text-black dark:hover:bg-white focus:ring-2 focus:ring-indigo-400 focus:ring-offset-2",children:(0,c.jsx)(j.Z,{icon:N.W.PHOTO,className:"w-6 h-6"})})]}),(0,c.jsx)("textarea",M({placeholder:"\ub2f9\uc2e0\uc758 \uc774\uc57c\uae30\ub97c \uc801\uc5b4\ubcf4\uc138\uc694...",className:"p-4 bg-transparent focus:outline-none flex-1 resize-none"},p("contents"))),(0,c.jsxs)("div",{className:"flex space-x-2 bg-zinc-100 dark:bg-zinc-700 p-4 -m-4",children:[(0,c.jsx)("button",{type:"button",className:"px-2 py-1 rounded-md hover:bg-zinc-500 hover:text-white transition-colors focus:ring-indigo-500 focus:ring-2 focus:ring-offset-2",onClick:U,children:"\u25c2 \ub098\uac00\uae30"}),(0,c.jsx)("div",{className:"flex-1"}),(0,c.jsx)("button",{type:"button",className:"px-2 py-1 rounded-md hover:bg-zinc-500 hover:text-white transition-colors focus:ring-indigo-500 focus:ring-2 focus:ring-offset-2",onClick:z,children:"\uc784\uc2dc\uc800\uc7a5"}),(0,c.jsx)("button",{type:"button",className:"px-2 py-1 rounded-md hover:bg-zinc-500 hover:text-white transition-colors focus:ring-indigo-500 focus:ring-2 focus:ring-offset-2",onClick:K,children:"\ucd9c\uac04\ud558\uae30"})]})]})}),(0,c.jsxs)("section",{className:"flex-1 hidden sm:inline-block overflow-auto",children:[(0,c.jsx)("h1",{className:"p-4 block text-5xl mb-4",children:m("title")}),(0,c.jsx)(E.Z,{markdown:m("contents")})]})]}),L&&(0,c.jsx)(Z,{onCreatePost:se,title:y("title"),setIsPreview:q,postMetadata:ae,setPostMetadata:ce}),Q&&(0,c.jsx)(w.Z,{kinds:"page"}),t.query.title&&de&&(0,c.jsx)(w.Z,{kinds:"page"})]})}}},function(e){e.O(0,[669,536,267,903,774,888,179],(function(){return n=6212,e(e.s=n);var n}));var n=e.O();_N_E=n}]);